<aside>
💡 AsyncTask

</aside>

AsyncTask는 비동기적으로 실행될 필요가 있는 작업을 위해 사용하는 클래스이다.

장점으로는 비동기적 처리를 하기 쉽고, 핸들러보다 코드적으로 깔끔하다는 장점이 있다.

단점은 재사용이 불가하고, 종료를 하지 않으면 종료가 되지 않는다는 단점이 있다.

### AsynsTask는 왜 deprecated 되었는가?

1. 메모리누수
    
    -액티비티 종료시점과 어싱크가 끝나는 시점이 다르다. 액티비티가 종료될 때 어싱크가 오래 걸리는 게 아니라면 일시적인 현상이므로 큰 문제는 아님. 문제가 되는 것은 화면 회전 등으로 인해 계속해서 어싱크가 쌓여서 실행하는 경우. 이 경우는 화면이 회전할 때 액티비티는 종료되고 새로 시작된다. 새로 생성된 액티비티는 다른 인스턴스인데, 어싱크가 아직 실행 중인 경우에는 기존 액티비티도 메모리에서 제거가 되지 않는다(oom 원인 가능성)
    
2. 순차 실행으로 인한 속도저하
3. 프래그먼트에서 어싱크 실행문제
    
    -프래그먼트에서 어싱크를 실행하고 백키로 액티비티를 종료하면 프래그먼트는 액티비티와 분리되면서 getContext, getActivity가 null을 리턴. 따라서 onPostExecte에서 널포인트 발생
    
4. 예외처리 메서드 없음
    
    -취소(cancel)만 있고 onError가 없음
    
5. 병렬 실행 시 doinBackground 실행 순서가 보장되지 않음
    
    -안드로이드 버전이 올라가면서 기본 동작이 병렬 실행에서 순차 실행으로 바뀜